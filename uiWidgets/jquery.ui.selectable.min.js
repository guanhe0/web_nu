(function(f,m){f.widget("ui.selectable",f.ui.mouse,{version:"@VERSION",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var c,d=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){c=f(d.options.filter,d.element[0]);for(var b=0,b=0;b<c.length;b++)f(c[b]).offset()};this.refresh();this.selectees=c.addClass("ui-selectee");this._mouseInit();
this.helper=f("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(c){var d=this,b=this.options;this.opos=[c.pageX,c.pageY];this.options.disabled||(this.selectees=f(b.filter,this.element[0]),this._trigger("start",c),f(b.appendTo).append(this.helper),this.helper.css({left:c.pageX,top:c.pageY,width:0,height:0}),
b.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var b=f.data(this,"selectable-item");b.startselected=!0;c.metaKey||c.ctrlKey||(b.$element.removeClass("ui-selected"),b.selected=!1,b.$element.addClass("ui-unselecting"),b.unselecting=!0,d._trigger("unselecting",c,{unselecting:b.element}))}),f(c.target).parents().addBack().each(function(){var b,e=f.data(this,"selectable-item");if(e)return b=!c.metaKey&&!c.ctrlKey||!e.$element.hasClass("ui-selected"),e.$element.removeClass(b?
"ui-unselecting":"ui-selected").addClass(b?"ui-selecting":"ui-unselecting"),e.unselecting=!b,e.selecting=b,(e.selected=b)?d._trigger("selecting",c,{selecting:e.element}):d._trigger("unselecting",c,{unselecting:e.element}),!1}))},_mouseDrag:function(c){this.dragged=!0;if(!this.options.disabled){var d,b=this,l=this.options,e=this.opos[0],g=this.opos[1],h=c.pageX,k=c.pageY;e>h&&(d=h,h=e,e=d);g>k&&(d=k,k=g,g=d);this.helper.css({left:e,top:g,width:h-e,height:k-g});this.selectees.each(function(){var a=
f.data(this,"selectable-item"),d=!1;a&&a.element!==b.element[0]&&("touch"===l.tolerance?d=!(a.left>h||a.right<e||a.top>k||a.bottom<g):"fit"===l.tolerance&&(d=a.left>e&&a.right<h&&a.top>g&&a.bottom<k),d?(a.selected&&(a.$element.removeClass("ui-selected"),a.selected=!1),a.unselecting&&(a.$element.removeClass("ui-unselecting"),a.unselecting=!1),a.selecting||(a.$element.addClass("ui-selecting"),a.selecting=!0,b._trigger("selecting",c,{selecting:a.element}))):(a.selecting&&((c.metaKey||c.ctrlKey)&&a.startselected?
(a.$element.removeClass("ui-selecting"),a.selecting=!1,a.$element.addClass("ui-selected"),a.selected=!0):(a.$element.removeClass("ui-selecting"),a.selecting=!1,a.startselected&&(a.$element.addClass("ui-unselecting"),a.unselecting=!0),b._trigger("unselecting",c,{unselecting:a.element}))),!a.selected||c.metaKey||c.ctrlKey||a.startselected||(a.$element.removeClass("ui-selected"),a.selected=!1,a.$element.addClass("ui-unselecting"),a.unselecting=!0,b._trigger("unselecting",c,{unselecting:a.element}))))});
return!1}},_mouseStop:function(c){var d=this;this.dragged=!1;f(".ui-unselecting",this.element[0]).each(function(){var b=f.data(this,"selectable-item");b.$element.removeClass("ui-unselecting");b.unselecting=!1;b.startselected=!1;d._trigger("unselected",c,{unselected:b.element})});f(".ui-selecting",this.element[0]).each(function(){var b=f.data(this,"selectable-item");b.$element.removeClass("ui-selecting").addClass("ui-selected");b.selecting=!1;b.selected=!0;b.startselected=!0;d._trigger("selected",
c,{selected:b.element})});this._trigger("stop",c);this.helper.remove();return!1}})})(jQuery);
